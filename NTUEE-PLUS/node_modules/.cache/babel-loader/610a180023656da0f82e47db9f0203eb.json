{"ast":null,"code":"var _jsxFileName = \"/home/tofu/NTUEE-merge/NTUEE-PLUS/src/Login.js\";\nimport React, { Component } from 'react';\nimport './Login.css'; //import './LoginAction.js';\n\nimport eesa_icon from './images/eesa-icon.png'; //import fetch from 'isomorphic-fetch';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Login_username_input: '',\n      Login_password_input: ''\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    alert(\"fine\");\n    $.ajax({\n      type: \"post\",\n      url: \"http://localhost:1993/api/login\",\n      dataType: \"json\",\n      data: {\n        account: account,\n        password: password\n      },\n      success: function (data) {\n        //接受返回的数据，前端判断采取的动作\n        console.log(data.data);\n\n        if (data) {\n          if (data.message == false) {\n            window.location.href = \"#\";\n            alert('帳號密碼錯誤');\n          } else {\n            alert('登入成功，歡迎 ' + data.data.username); //登录成功将用户名存入cookie;\n\n            /*if($('#mycheck').prop('checked')==true){\n              setCookie('username',username,7);\n            }*/\n\n            window.location.href = \"#\";\n          }\n        }\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"Login_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Login_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"loginForm\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Login_username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Login_username_tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Username:\"), React.createElement(\"input\", {\n      name: \"Login_username_input\",\n      id: \"Login_username_input\",\n      placeholder: \"username\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Login_password1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Login_password_tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(\"input\", {\n      name: \"Login_password_input\",\n      id: \"Login_password_input\",\n      placeholder: \"password\",\n      type: \"password\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"Login_links\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      id: \"Login_create\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Create a new account\"), React.createElement(\"a\", {\n      id: \"Login_forgot\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Forgot your password?\"))), React.createElement(\"div\", {\n      id: \"Login_footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"Login_logo\",\n      src: eesa_icon,\n      alt: \"logo\",\n      width: \"100px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"Login_footer_text_1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\u806F\\u7D61\\u4FE1\\u7BB1:ntueesa@gmail.com\"), React.createElement(\"p\", {\n      id: \"Login_footer_text_2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u53F0\\u7063\\u5927\\u5B78\\u96FB\\u6A5F\\u5DE5\\u7A0B\\u5B78\\u7CFB \\u7CFB\\u5B78\\u6703\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/tofu/NTUEE-merge/NTUEE-PLUS/src/Login.js"],"names":["React","Component","eesa_icon","Login","constructor","props","state","Login_username_input","Login_password_input","handleInputChange","bind","handleSubmit","event","target","value","name","setState","preventDefault","alert","$","ajax","type","url","dataType","data","account","password","success","console","log","message","window","location","href","username","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Login.css';\n//import './LoginAction.js';\nimport eesa_icon from './images/eesa-icon.png';\n//import fetch from 'isomorphic-fetch';\n\nclass Login extends Component{\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  Login_username_input: '',\n\t\t  Login_password_input: ''\n\t\t};\n\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\n\t\tthis.setState({\n\t\t  [name]: value\n\t\t});\n\t}\n\t\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\talert(\"fine\");\n\t\t$.ajax({\n\t\t\ttype: \"post\",\n\t\t\turl: \"http://localhost:1993/api/login\",\n\t\t\tdataType: \"json\",\n\t\t\tdata:{ account:account, password: password },\n\t\t\tsuccess: function(data){\n\t\t\t//接受返回的数据，前端判断采取的动作\n\t\t\t  console.log(data.data);\n\t\t\t  if(data){\n\t\t\t\t  if(data.message==false){\n\t\t\t\t\twindow.location.href=\"#\";\n\t\t\t\t\talert('帳號密碼錯誤')\n\t\t\t\t  }else{\n\t\t\t\t\talert('登入成功，歡迎 '+data.data.username);\n\t\t\t\t\t//登录成功将用户名存入cookie;\n\t\t\t\t\t/*if($('#mycheck').prop('checked')==true){\n\t\t\t\t\t  setCookie('username',username,7);\n\t\t\t\t\t}*/\n\t\t\t\t\twindow.location.href=\"#\";\n\t\t\t\t  }\n\t\t\t  }\n\t\t\t}\n\t\t});\n\t}\n\t\n\trender(){\n        return (\n            <div id=\"Login_container\">\n\t\t\t\n                <div id=\"Login_input\">\n\t\t\t\t  <form id=\"loginForm\" onSubmit={this.handleSubmit}>\n                    <div id=\"Login_username\">\n                        <p id=\"Login_username_tag\">Username:</p>\n                        <input name=\"Login_username_input\" id=\"Login_username_input\" placeholder=\"username\" value={this.state.value} onChange={this.handleInputChange} autoFocus></input>\n                    </div>\n                    <div id=\"Login_password1\">\n                        <p id=\"Login_password_tag\">Password:</p>\n                        <input name=\"Login_password_input\" id=\"Login_password_input\" placeholder=\"password\" type=\"password\" value={this.state.value} onChange={this.handleInputChange}></input>\n\t\t\t\t\t\t<input type=\"submit\" value=\"Submit\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t  </form>\n                    <div id=\"Login_links\">\n                        <a id=\"Login_create\" href=\"#\">Create a new account</a>\n                        <a id=\"Login_forgot\" href=\"#\">Forgot your password?</a>\n                    </div>\n                </div>\n\n                \n\n                <div id=\"Login_footer\">\n                    <img id=\"Login_logo\" src={eesa_icon} alt=\"logo\" width=\"100px\" ></img>\n                    <p id=\"Login_footer_text_1\">聯絡信箱:ntueesa@gmail.com</p>\n                    <p id=\"Login_footer_text_2\">台灣大學電機工程學系 系學會</p>\n                </div>\n\n            </div>\t\t\t\n        )\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}